(this["webpackJsonpsoamee-web-challenge-client"]=this["webpackJsonpsoamee-web-challenge-client"]||[]).push([[0],{147:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(40),c=a.n(r),o=(a(147),a(22)),i=a(23),h=a(21),u=a(24),b=a(27),j=a(26),l=a(77),d=a.n(l),O=function e(){var t=this;Object(h.a)(this,e),this.getBooks=function(){return t.instance.get("/")},this.getOneBook=function(e){return t.instance.get("/".concat(e))},this.editBook=function(e,a){return t.instance.put("/".concat(e,"/edit"),a)},this.createBook=function(e){return t.instance.post("/create",e)},this.instance=d.a.create({baseURL:"".concat("http://localhost:5000/api","/books"),withCredentials:!0})},m=a(18),x=function e(){var t=this;Object(h.a)(this,e),this.getAuthors=function(){return t.instance.get("/")},this.getOneAuthor=function(e){return t.instance.get("/".concat(e))},this.editAuthor=function(e,a){return t.instance.put("/".concat(e,"/edit"),a)},this.createAuthor=function(e){return t.instance.post("/create",e)},this.instance=d.a.create({baseURL:"".concat("http://localhost:5000/api","/authors"),withCredentials:!0})},f=a(135),p=a(4),v=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={author:{}},n.authorService=new x,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authorService.getOneAuthor(this.props.author).then((function(t){e.setState({author:t.data.author})}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"authorlist",children:Object(p.jsxs)("li",{children:[this.props.firstName," ",this.props.lastName]})})}}]),a}(n.Component),k=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getAuthors=function(){n.authorService.getAuthors().then((function(e){n.setState(Object(i.a)(Object(i.a)({},n.state),{},{authors:e.data}))})).catch((function(e){return console.error(e)}))},n.state={show:!1,showItem:!1,authors:[]},n.authorService=new x,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getAuthors()}},{key:"render",value:function(){var e=this.state.authors;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Authors"}),e.map((function(e){return Object(p.jsx)(v,{firstName:e.firstName,lastName:e.lastName},e._id)})),Object(p.jsxs)("div",{children:[Object(p.jsx)(m.b,{to:"/authors/create",children:Object(p.jsx)(f.a,{children:"Create"})}),Object(p.jsx)(m.b,{to:"/",children:Object(p.jsx)(f.a,{children:"Back"})})]})]})}}]),a}(n.Component),S=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={author:{},book:{}},n.authorService=new x,n.bookService=new O,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authorService.getOneAuthor(this.props.author).then((function(t){e.setState({author:t.data.author})}))}},{key:"render",value:function(){var e=this.props,t=(e.isbn,e.name),a=e.id;this.state.author,this.state.book;return Object(p.jsxs)("div",{className:"bookitem",children:[Object(p.jsx)("p",{id:"bookname",children:t}),Object(p.jsxs)("h3",{children:[Object(p.jsx)(m.b,{to:{pathname:"/books/".concat(a)},children:Object(p.jsx)(f.a,{className:"detailbutton",children:Object(p.jsx)("p",{children:"Details"})})}),Object(p.jsx)(m.b,{to:"/books/".concat(a,"/edit"),children:Object(p.jsx)(f.a,{children:Object(p.jsx)("p",{children:"Edit"})})})]})]})}}]),a}(n.Component),N=a(255),g=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getBooks=function(){n.bookService.getBooks().then((function(e){n.setState(Object(i.a)(Object(i.a)({},n.state),{},{books:e.data}))})).catch((function(e){return console.error(e)}))},n.state={show:!1,showItem:!1,books:[],authors:[]},n.bookService=new O,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"render",value:function(){var e=this.state.books;this.state.authors;return Object(p.jsxs)("div",{className:"booklist",children:[Object(p.jsx)("h1",{children:"Books"}),Object(p.jsx)(N.b,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return Object(p.jsx)(N.b.Item,{className:"booklistitem",children:Object(p.jsx)(S,{author:e.author,isbn:e.isbn,id:e._id,name:e.name},e._id)})}}),",",Object(p.jsxs)("div",{className:"button-bottom",children:[Object(p.jsx)(m.b,{to:"/books/create",children:Object(p.jsxs)("p",{children:[" ",Object(p.jsx)(f.a,{className:"createbutton",children:"Create"})," "]})}),Object(p.jsx)(m.b,{to:"/",children:Object(p.jsxs)("p",{className:"backbutton",children:[" ",Object(p.jsx)(f.a,{children:" Back "})," "]})})]})]})}}]),a}(n.Component),y=(a(247),a(257)),C=a(258),w=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"homepage",children:[Object(p.jsx)("h1",{children:" Soamee Web Challenge "}),Object(p.jsxs)("div",{className:"Icons",children:[Object(p.jsxs)(m.b,{to:"/books",children:[Object(p.jsx)(y.a,{className:"BookIcon"}),"  ",Object(p.jsx)("h2",{children:" Books"})]}),Object(p.jsxs)(m.b,{to:"/authors",children:[Object(p.jsx)(C.a,{className:"AuthorIcon"})," ",Object(p.jsx)("h2",{children:" Authors "})," "]})]})]})}}]),a}(n.Component),B=a(58),A=a(254),I=a(256),q=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={firstName:"",lastName:""},n.authorService=new x,n.onSubmit=n.onSubmit.bind(Object(B.a)(n)),n}return Object(u.a)(a,[{key:"onSubmit",value:function(){console.log(this.state),this.state.firstName&&this.state.lastName&&this.authorService.createAuthor(this.state)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"AuthorCreate"}),Object(p.jsxs)(A.a,{className:"formauthorcreate",onFinish:this.onSubmit,children:[Object(p.jsx)(A.a.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please input your First Name!"}],children:Object(p.jsx)(I.a,{name:"firstName",placeholder:"First Name",type:"text",onChange:function(t){e.setState({firstName:t.target.value})}})}),Object(p.jsx)(A.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please input your Last Name!"}],children:Object(p.jsx)(I.a,{name:"lastName",placeholder:"Last Name",type:"text",onChange:function(t){e.setState({lastName:t.target.value})}})}),Object(p.jsx)(A.a.Item,{wrapperCol:{offset:8,span:16}}),Object(p.jsx)(f.a,{className:"authorcreatebutton",type:"primary",htmlType:"submit",children:"Submit"}),Object(p.jsx)(m.b,{to:"/authors",children:Object(p.jsx)(f.a,{children:" Back "})})]})]})}}]),a}(s.a.Component),D=a(68),M=D.a.Option,F=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={name:"",isbn:"",authors:[]},n.bookService=new O,n.authorService=new x,n.onSubmit=n.onSubmit.bind(Object(B.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authorService.getAuthors().then((function(t){e.setState({authors:t.data})}))}},{key:"onSubmit",value:function(){if(console.log(this.state),this.state.name&&this.state.isbn&&this.state.author){var e=this.state,t=e.name,a=e.isbn,n=e.author;this.bookService.createBook({name:t,isbn:a,author:n})}}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"BookCreate"}),Object(p.jsxs)(A.a,{className:"bookformcreate",onFinish:this.onSubmit,children:[Object(p.jsx)(A.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please input your First Name!"}],children:Object(p.jsx)(I.a,{name:"name",placeholder:"Name",type:"text",onChange:function(t){e.setState({name:t.target.value})}})}),Object(p.jsx)(A.a.Item,{label:"isbn",name:"isbn",rules:[{required:!0,message:"Please input your !isbn"}],children:Object(p.jsx)(I.a,{name:"isbn",placeholder:"isbn",type:"text",onChange:function(t){e.setState({isbn:t.target.value})}})}),Object(p.jsx)(A.a.Item,{name:"author",label:"Author",rules:[{required:!0}],children:Object(p.jsx)(D.a,{placeholder:"Select an author",allowClear:!0,onChange:function(t){return e.setState({author:t})},children:this.state.authors.map((function(e){return Object(p.jsxs)(M,{value:e._id,children:[e.firstName," ",e.lastName]})}))})}),Object(p.jsx)(A.a.Item,{wrapperCol:{offset:8,span:16}}),Object(p.jsx)(f.a,{className:"submitbuttoncreate",type:"primary",htmlType:"submit",children:"Submit"}),Object(p.jsx)(m.b,{to:"/books",children:Object(p.jsx)(f.a,{children:" Back "})})]})]})}}]),a}(s.a.Component),L=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={books:{},author:{}},n.bookService=new O,n.authorService=new x,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.bookService.getOneBook(t).then((function(t){e.setState(Object(i.a)(Object(i.a)({},e.state),{},{books:t.data.book})),e.authorService.getOneAuthor(t.data.book.author).then((function(t){e.setState({author:t.data.author})}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{children:["Name: ",this.state.books.name]}),Object(p.jsxs)("h3",{children:["ISBN: ",this.state.books.isbn]}),Object(p.jsxs)("h3",{children:["Author: ",this.state.author.firstName," ",this.state.author.lastName]}),Object(p.jsx)(m.b,{to:"/books",children:Object(p.jsx)(f.a,{children:" Back "})})]})}}]),a}(n.Component),P=a(76),_=D.a.Option,E=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(i.a)(Object(i.a)({},n.state),{},Object(P.a)({},s,a)))},n.handleSubmit=function(){n.bookService.editBook(n.props.match.params.id,n.state).then((function(){n.setState({name:"",isbn:"",authors:[]})})).catch((function(e){return console.error(e)}))},n.state={name:"",isbn:"",authors:[]},n.bookService=new O,n.authorService=new x,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authorService.getAuthors().then((function(t){e.setState({authors:t.data})}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Edit Book"}),Object(p.jsxs)(A.a,{className:"bookformupdate",onFinish:this.handleSubmit,children:[Object(p.jsx)(A.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please edit your books name!"}],children:Object(p.jsx)(I.a,{onChange:function(t){return e.handleChange(t)},name:"name",value:this.state.name})}),Object(p.jsx)(A.a.Item,{label:"isbn",name:"isbn",rules:[{required:!0,message:"Please edit your !isbn"}],children:Object(p.jsx)(I.a,{onChange:function(t){return e.handleChange(t)},name:"isbn",value:this.state.isbn})}),Object(p.jsx)(A.a.Item,{name:"author",label:"Author",rules:[{required:!0}],children:Object(p.jsx)(D.a,{placeholder:"Select an author",allowClear:!0,onChange:function(t){return e.setState({author:t})},children:this.state.authors.map((function(e){return Object(p.jsxs)(_,{value:e._id,children:[e.firstName," ",e.lastName]},e._id)}))})}),Object(p.jsx)(A.a.Item,{wrapperCol:{offset:8,span:16}}),Object(p.jsx)(f.a,{className:"updatebutton",type:"primary",htmlType:"submit",children:"Submit"}),Object(p.jsx)(m.b,{to:"/books",children:Object(p.jsx)(f.a,{children:" Back "})})]})]})}}]),a}(s.a.Component),T=function(){return Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(p.jsx)(w,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{exact:!0,path:"/books",render:function(e){return Object(p.jsx)(g,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{exact:!0,path:"/authors",render:function(e){return Object(p.jsx)(k,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{path:"/authors/create",render:function(e){return Object(p.jsx)(q,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{path:"/books/create",render:function(e){return Object(p.jsx)(F,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{exact:!0,path:"/books/:id",render:function(e){return Object(p.jsx)(L,Object(i.a)({},e))}}),Object(p.jsx)(o.a,{exact:!0,path:"/books/:id/edit",render:function(e){return Object(p.jsx)(E,Object(i.a)({},e))}})]})};var J=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(o.c,{children:Object(p.jsx)(T,{})})})};a(248);c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(m.a,{children:Object(p.jsx)(J,{})})}),document.getElementById("root"))}},[[249,1,2]]]);
//# sourceMappingURL=main.f5c2593e.chunk.js.map